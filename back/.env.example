# Ghiblify Backend Environment Variables
# Copy this file to .env and update with your actual values

# ===== PRODUCTION CONFIGURATION =====
# Production API URL - used for CORS and webhook URLs
PRODUCTION_API_URL=https://api.thisyearnofear.com

# Node environment (development/production)
NODE_ENV=production

# Application Settings
ENVIRONMENT=production
PORT=8000

# ===== API KEYS (Required for full functionality) =====
# Replicate API token for image processing
REPLICATE_API_TOKEN=your_replicate_token

# ComfyUI API key for advanced image processing
COMFY_UI_API_KEY=your_comfyui_api_key

# ImgBB API key for image hosting
IMGBB_API_KEY=your_imgbb_api_key

# ===== PAYMENT CONFIGURATION =====
# Stripe configuration (Required for payments)
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# ===== REDIS CONFIGURATION (Required for credit management) =====
# Option 1: Full URL (for Upstash or other managed Redis)
UPSTASH_REDIS_URL=redis://default:password@host:port/0
# OR
REDIS_URL=redis://localhost:6379/0

# Option 2: Discrete parameters (for local Redis without auth)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_USERNAME=  # Leave empty for local Redis without auth
# REDIS_PASSWORD=  # Leave empty for local Redis without auth
# REDIS_SSL=false

# Notes:
# - Local Redis (localhost:6379) does NOT require authentication
# - Upstash Redis requires username, password, and SSL=true
# - When UPSTASH_REDIS_URL is set, it overrides all discrete parameters

# ===== WEBHOOK CONFIGURATION =====
# Base URL for webhooks (defaults to PRODUCTION_API_URL if not set)
WEBHOOK_BASE_URL=https://api.thisyearnofear.com

# ===== FRONTEND URLS =====
# Frontend URL for CORS and redirects
FRONTEND_URL=https://ghiblify-it.vercel.app
SUCCESS_URL=https://ghiblify-it.vercel.app/success
CANCEL_URL=https://ghiblify-it.vercel.app/cancel

# ===== CELO CONFIGURATION (Optional - for Web3 payments) =====
CELO_RPC_URL=https://celo-mainnet.g.alchemy.com/v2/your_alchemy_key
CELO_CONTRACT_ADDRESS=0xC1a6b48d1898815bbD82C980f44f6f5688C2A9e4
CELO_CHAIN_ID=42220
CELO_CONFIRMATION_BLOCKS=2

# ===== BASE PAY CONFIGURATION (Optional - for Base Pay payments) =====
BASE_PAY_RECIPIENT_ADDRESS=0xYourRecipientAddress
BASE_PAY_TESTNET=false

# ===== BASE MAINNET CONFIGURATION (Optional - for GHIBLIFY token payments) =====
BASE_RPC_URL=https://mainnet.base.org
GHIBLIFY_TOKEN_PAYMENTS_ADDRESS=0x41f2fA6E60A34c26BD2C467d21EcB0a2f9087B03

# ===== SECURITY =====
SECRET_KEY=your_super_secret_key_here

# ===== LOGGING =====
LOG_LEVEL=INFO

# ===== DEVELOPMENT OVERRIDES =====
# Uncomment for local development
# NODE_ENV=development
# PRODUCTION_API_URL=http://localhost:8000
# WEBHOOK_BASE_URL=http://localhost:8000
# FRONTEND_URL=http://localhost:3000
# SUCCESS_URL=http://localhost:3000/success
# CANCEL_URL=http://localhost:3000/cancel
# REDIS_SSL=false
# BASE_PAY_TESTNET=true
